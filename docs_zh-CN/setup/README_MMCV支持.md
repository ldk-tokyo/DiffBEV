# MMCV 2.2.0 æ­£å¼æ”¯æŒè¯´æ˜Ž

## âœ… çŠ¶æ€

æœ¬é¡¹ç›®**å·²æ­£å¼æ”¯æŒ MMCV 2.2.0**ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰ï¼Œé»˜è®¤ä½¿ç”¨MMCV 2.xï¼Œæ— éœ€è®¾ç½®çŽ¯å¢ƒå˜é‡ã€‚

## ðŸ“¦ å½“å‰é…ç½®

- **MMCV**: 2.2.0 ï¼ˆæœ€æ–°ç¨³å®šç‰ˆï¼‰
- **MMEngine**: 0.10.7
- **PyTorch**: 2.4.1+cu124 ï¼ˆç”¨äºŽæ”¯æŒæ–°GPUæž¶æž„ï¼‰
- **çŠ¶æ€**: âœ… å®Œå…¨æ”¯æŒ

## ðŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…MMCV 2.xï¼ˆæŽ¨èï¼‰

```bash
# 1. ç¡®ä¿MMCV 2.xå·²å®‰è£…
pip install --upgrade mmcv>=2.0.0

# 2. ç¡®ä¿MMEngineå·²å®‰è£…
pip install mmengine>=0.10.0

# 3. éªŒè¯å®‰è£…
python -c "import mmcv; print(f'MMCV: {mmcv.__version__}'); import mmengine; print(f'MMEngine: {mmengine.__version__}')"
```

### ä½¿ç”¨MMCV 1.xï¼ˆä»…ç”¨äºŽæ—§é…ç½®ï¼‰

å¦‚æžœéœ€è¦ä½¿ç”¨MMCV 1.xï¼ˆä»…ç”¨äºŽæ—§GPU/PyTorch 1.xï¼‰ï¼š

```bash
# 1. è®¾ç½®çŽ¯å¢ƒå˜é‡
export DIFFBEV_USE_MMCV1=1

# 2. å®‰è£…MMCV 1.x
pip install mmcv-full==1.4.0

# 3. æ­£å¸¸ä½¿ç”¨
python tools/train.py configs/baseline/lss_swin_nuscenes.py --work-dir runs/baseline --gpu-ids 0
```

## ðŸ“‹ ç‰ˆæœ¬è¦æ±‚

### æŽ¨èé…ç½®ï¼ˆé»˜è®¤ï¼‰

- **MMCV**: >= 2.0.0, < 3.0.0
- **MMEngine**: >= 0.10.0
- **PyTorch**: >= 2.0.0

### å…¼å®¹é…ç½®ï¼ˆé€šè¿‡çŽ¯å¢ƒå˜é‡ï¼‰

- **MMCV**: 1.3.13 - 1.4.0
- **PyTorch**: 1.x

## ðŸ”§ æŠ€æœ¯ç»†èŠ‚

### ç‰ˆæœ¬æ£€æµ‹é€»è¾‘

1. **é»˜è®¤æ£€æŸ¥MMCV 2.xç‰ˆæœ¬è¦æ±‚**ï¼ˆ>=2.0.0, <3.0.0ï¼‰
2. **å¦‚æžœæ£€æµ‹åˆ°MMCV 1.x**ï¼Œæ£€æŸ¥çŽ¯å¢ƒå˜é‡`DIFFBEV_USE_MMCV1`
3. **å¦‚æžœçŽ¯å¢ƒå˜é‡æœªè®¾ç½®**ï¼Œæç¤ºå‡çº§åˆ°MMCV 2.x
4. **å¦‚æžœçŽ¯å¢ƒå˜é‡å·²è®¾ç½®**ï¼Œå…è®¸ä½¿ç”¨MMCV 1.x

### å…¼å®¹å±‚

é¡¹ç›®å·²å®žçŽ°å®Œæ•´çš„å…¼å®¹å±‚ï¼Œç¡®ä¿MMCV 2.xæ­£å¸¸å·¥ä½œï¼š

1. **DataContainer**: è‡ªåŠ¨å¤„ç†MMCV 1.xå’Œ2.xçš„å·®å¼‚
2. **collateå‡½æ•°**: æ”¯æŒDataContainerçš„collateå‡½æ•°
3. **Runnerå…¼å®¹**: MMCVRunnerCompatåŒ…è£…ç±»
4. **å¯¼å…¥å…¼å®¹**: è‡ªåŠ¨ä»Žmmcvæˆ–mmengineå¯¼å…¥API

## ðŸ“š ç›¸å…³æ–‡æ¡£

- **MMCV GitHub**: https://github.com/open-mmlab/mmcv
- **MMCVå‡çº§è®°å½•**: `MMCV_2.2.0å‡çº§è®°å½•.md`
- **æ­£å¼æ”¯æŒè¯´æ˜Ž**: `MMCV_2.2.0æ­£å¼æ”¯æŒè¯´æ˜Ž.md`
- **ä»£ç å…¼å®¹æ€§å¤„ç†**: `ä»£ç å…¼å®¹æ€§å¤„ç†è¯´æ˜Ž.md`

## ðŸŽ¯ ä¼˜åŠ¿

ä½¿ç”¨MMCV 2.xçš„ä¼˜åŠ¿ï¼š

1. âœ… **æ”¯æŒPyTorch 2.x**: å¯ä»¥å……åˆ†åˆ©ç”¨PyTorch 2.xçš„æ–°ç‰¹æ€§
2. âœ… **æ”¯æŒæ–°GPUæž¶æž„**: æ”¯æŒRTX 5090ç­‰æ–°GPUæž¶æž„ï¼ˆsm_120ï¼‰
3. âœ… **æ›´å¥½çš„æ€§èƒ½**: é’ˆå¯¹æ–°ç‰ˆæœ¬PyTorchä¼˜åŒ–
4. âœ… **é•¿æœŸæ”¯æŒ**: MMCV 1.xä»…ç»´æŠ¤åˆ°2024å¹´åº•ï¼Œ2.xæ˜¯æœªæ¥è¶‹åŠ¿

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆé»˜è®¤ä½¿ç”¨MMCV 2.xï¼Ÿ

A: MMCV 2.xæ”¯æŒPyTorch 2.xå’Œæ–°GPUæž¶æž„ï¼ˆå¦‚RTX 5090ï¼‰ï¼Œè¿™æ˜¯æœªæ¥çš„è¶‹åŠ¿ã€‚MMCV 1.xä»…ç»´æŠ¤åˆ°2024å¹´åº•ã€‚

### Q: å‡çº§MMCV 2.xä¼šå½±å“çŽ°æœ‰ä»£ç å—ï¼Ÿ

A: ä¸ä¼šã€‚é¡¹ç›®å·²ç»å®žçŽ°äº†å®Œæ•´çš„å…¼å®¹å±‚ï¼Œç¡®ä¿MMCV 2.xå¯ä»¥æ­£å¸¸å·¥ä½œã€‚æ‰€æœ‰APIè°ƒç”¨éƒ½å·²é€šè¿‡å…¼å®¹å±‚å¤„ç†ã€‚

### Q: å¦‚ä½•éªŒè¯MMCVç‰ˆæœ¬ï¼Ÿ

A: è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
python -c "import mmcv; print(f'MMCVç‰ˆæœ¬: {mmcv.__version__}')"
```

é¢„æœŸè¾“å‡ºï¼š`MMCVç‰ˆæœ¬: 2.2.0`

### Q: å¦‚æžœæˆ‘çš„çŽ¯å¢ƒæ˜¯PyTorch 1.xï¼Œæ€Žä¹ˆåŠžï¼Ÿ

A: æœ‰ä¸¤ç§é€‰æ‹©ï¼š
1. **æŽ¨è**: å‡çº§åˆ°PyTorch 2.xå’ŒMMCV 2.x
2. **å…¼å®¹**: è®¾ç½®`DIFFBEV_USE_MMCV1=1`å¹¶ä½¿ç”¨MMCV 1.x